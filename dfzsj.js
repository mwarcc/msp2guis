!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.$=e():t.$=e()}(self,(()=>(()=>{"use strict";function t(t,e,n){return(e=function(t){var e=function(t){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class e{}var n="msp2_auth_token",i={t:window.localStorage},o={t:new TextDecoder};function s(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}t(e,"getUserData",(()=>{const[t,e]=[t=>JSON.parse(o.t.decode(Uint8Array.from(atob(t),(t=>t.charCodeAt(0))))),null];return n=>{try{const{profileId:e,name:i}=t(n.split(".")[1]);return{profileId:e,name:i}}catch{return e}}})()),t(e,"getToken",(()=>i.t.getItem(n))),t(e,"saveToken",(t=>t&&i.t.setItem(n,t))),t(e,"isValidToken",(t=>!!(t?.length>>>0)));var r=new WeakMap;class a{constructor(){var t;(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(this,t=r),t.set(this,false),this.initialize()}static getInstance(){return h.t||(h.t=new a),h.t}initialize(){if((t=r).get(s(t,this)))return;var t;const e=document.createElement("script");e.src="https://umami.msp2.lol/script.js",e.defer=!0,e.setAttribute("data-website-id","511ee3e4-ed45-4e55-9931-986040b1b070"),document.head.appendChild(e),function(t,e){t.set(s(t,e),!0)}(r,this)}track(t,e){window.umami&&window.umami.track(t,e)}}var c,h={t:void 0};function u(t,e,n){return(e=function(t){var e=function(t){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function l(t,e){return t.get(function(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}(t,e))}var d=new WeakMap,w=new WeakMap,f=new WeakMap,m=new WeakMap,b=new WeakMap,y=new WeakMap;class g{constructor(){if(p(this,d,new Set(["google-analytics.com","region1.analytics.google.com"])),p(this,w,new Map),p(this,f,new Map),p(this,m,{h:{"content-type":"application/json","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",accept:"application/json, text/plain, */*","accept-language":"en-US,en;q=0.9",origin:"https://www.moviestarplanet.com",referer:"https://www.moviestarplanet.com/","sec-ch-ua":'"Not_A Brand";v="8", "Chromium";v="120", "Google Chrome";v="120"',"sec-ch-ua-mobile":"?0","sec-ch-ua-platform":'"Windows"',"sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"cross-site"}}),p(this,b,(()=>{const t=XMLHttpRequest.prototype,e=window.fetch;var n;t.open=(n=t.open,function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return l(y,this).call(this,e[1])?void this.abort():n.apply(this,e)}),Object.defineProperty(window,"fetch",{value:function(t,n){return l(y,this).call(this,t)?Promise.resolve(new Response(null,{status:403})):e.call(window,t,n)}.bind(this),writable:!0})})),p(this,y,(t=>{if(l(w,this).has(t))return l(w,this).get(t);try{const e=l(d,this).has(new URL(t).hostname);return l(w,this).set(t,e),e}catch{return!1}})),u(this,"getHeaders",(t=>{const e=t||"";if(l(f,this).has(e))return l(f,this).get(e);const n={...l(m,this).h,authorization:t?`Bearer ${t}`:""};return Object.freeze(n),l(f,this).set(e,n),n})),u(this,"delay",(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500;return new Promise((n=>setTimeout(n,~~(Math.random()*(e-t+1))+t)))})),v.t)return v.t;v.t=this,l(b,this).call(this)}}c=g;var v={t:void 0};function k(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function j(t,e){return t.get(x(t,e))}function S(t,e,n){return t.set(x(t,e),n),n}function x(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}u(g,"getInstance",(()=>v.t??new c));var T=new WeakMap,M=new WeakMap,O=new WeakMap,_=new WeakMap;class W{constructor(){k(this,T,!0),k(this,M,void 0),k(this,O,void 0),k(this,_,["cf0589ffe9ed45369d70dcaaa9aa1db2","6ca07ffa53e3468598e6f2a2e0d20ded","cf42a511688e49f795e387d43a78c758","d92645e7672142028f2731aeda6e8e6f","39e585c334834622ab69fa636068d278","7e4f2d790d5c4b3e808f3737b30f6458","c568275ccfbb482486d54942542fe22f","e79da67391154e56ad381960ca344b54","3924865e60fe426eb2862fd9a7a813b5","d2d9a0623b24dde83142b8951ea3a79","8a05904fe4c042009f60ea0e3958832e"]),S(M,this,a.getInstance()),S(O,this,g.getInstance()),this.initialize()}initialize(){this.interceptFetchRequests(),this.interceptWebSocket()}interceptFetchRequests(){var t=this;const n=window.fetch;window.fetch=async function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];const[r,a]=o;try{if(a?.headers){const n=Object.entries(a.headers).find((t=>{let[e]=t;return"authorization"===e.toLowerCase()}))?.[1];if(n&&n.startsWith("Bearer ")){const i=t.extractBearerToken(n);e.isValidToken(i)&&e.saveToken(i)}}if(r.includes("games/j68d/definitions?questType=EventQuest&questType=StaticDailyQuest&questType=RandomDailyQuest")){j(M,t).track("All Quests Completed");const e=await n.apply(window,o),i=await e.clone().json();return i.questDefinitions&&await t.processQuestDefinitions(i.questDefinitions),e}if(r.includes("games/j68d/quests?questType=EventQuest&questType=StaticDailyQuest&questType=RandomDailyQuest")){j(M,t).track("All Quests Completed");const e=await n.apply(window,o),i=await e.clone().json();return i.questDefinitions&&await t.processQuestDefinitions(i.quests),e}}catch(t){}return n.apply(window,o)}}extractBearerToken(t){return t.replace("Bearer ","").trim()}getToken(){return e.getToken()||null}async resetAvatar(){try{const t=this.getToken(),e=this.getProfileId();if(!t||!e)throw new Error("Missing authentication");const n=await fetch(`https://eu.mspapis.com/profileattributes/v1/profiles/${e}/games/j68d/attributes`,{headers:j(O,this).getHeaders(t)}),i=await n.json();if(!i?.avatarId)throw new Error("No avatar ID found");const o=await fetch("https://api.allorigins.win/raw?url="+encodeURIComponent("https://github.com/mwarcc/msp2guis/raw/refs/heads/main/default.bson"));if(!o.ok)throw new Error("Failed to get default avatar");const s=await o.arrayBuffer(),r=await fetch(`https://eu.mspapis.com/profilegeneratedcontent/v2/profiles/${e}/games/j68d/avatars/${i.avatarId}`,{method:"PUT",headers:{...j(O,this).getHeaders(t),"content-type":"application/bson",signature:"2eA/CteuR/k2YUipj3YflkjpxJLRoUlSbNNY8xpwo6S8="},body:s});if(!r.ok)throw new Error(`Avatar update failed: ${r.status}`)}catch(t){}}async processQuestDefinitions(t){const e=this.getToken(),n=this.getProfileId();if(!e||!n)return;const i=async t=>{const o=t.definitionId;if(!o)return;const s=async()=>{try{await fetch(`https://eu.mspapis.com/quests/v2/profiles/${n}/games/j68d/quests/${o}/progress`,{method:"PUT",headers:j(O,this).getHeaders(e),body:JSON.stringify({progress:1})})}catch(t){}},r=o.toLowerCase().includes("gift")?4:1;for(let t=0;t<r;t++)await s();if(t.children&&Array.isArray(t.children))for(const e of t.children)await i(e)};for(const e of t)await i(e);await this.updateSpecificQuests(n,e),await this.processPetInteractions(n,e)}async updateSpecificQuests(t,e){try{await fetch(`https://eu.mspapis.com/quests/v2/profiles/${t}/games/j68d/quests/random_daily_change_profile_bg/state`,{method:"PUT",headers:j(O,this).getHeaders(e),body:JSON.stringify({state:"Complete"})});for(let n=0;n<10;n++)await fetch(`https://eu.mspapis.com/quests/v2/profiles/${t}/games/j68d/quests/daily_pet_pets/state`,{method:"PUT",headers:j(O,this).getHeaders(e),body:JSON.stringify({state:"Complete"})});for(let n=0;n<4;n++)await fetch(`https://eu.mspapis.com/timelimitedrewards/v2/profiles/${t}/games/j68d/rewards/daily_pickup`,{method:"PUT",headers:j(O,this).getHeaders(e),body:JSON.stringify({state:"Claimed"})})}catch(t){}}async processPetInteractions(t,e){for(const n of j(_,this))try{await fetch(`https://eu.mspapis.com/pets/v1/pets/${n}/interactions`,{method:"POST",headers:j(O,this).getHeaders(e),body:JSON.stringify({profileId:t,gameId:"j68d"})})}catch(t){}}getProfileId(){const t=this.getToken();if(!t)return null;try{return JSON.parse(atob(t.split(".")[1])).profileId}catch(t){return null}}interceptWebSocket(){const t=window.WebSocket,e=this;window.WebSocket=function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];const s=new t(...i);s.addEventListener("message",(t=>{j(T,e)&&e.handleQuizMessage(s,t.data)}));const r=s.send;return s.send=function(t){return j(T,e)&&"string"==typeof t&&e.handleOutgoingMessage(t,s),r.apply(this,arguments)},s},Object.assign(window.WebSocket,t)}handleOutgoingMessage(t,e){'42["chatv2:send",{"message":"avreset"}]'!==t&&'42["chatv2:send",{"message":"aÂ­vÂ­rÂ­eÂ­sÂ­eÂ­t"}]'!==t||(j(M,this).track("Avatar Reset"),this.resetAvatar())}toggle(){S(T,this,!j(T,this))}}function z(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function C(t,e){return t.get(P(t,e))}function E(t,e,n){return t.set(P(t,e),n),n}function P(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var A=new WeakMap,N=new WeakMap,R=new WeakMap,q=new WeakMap;class I{constructor(){z(this,A,!0),z(this,N,new Map),z(this,R,null),z(this,q,void 0),E(q,this,a.getInstance()),this.initialize()}async initialize(){try{const t=await fetch("https://raw.githubusercontent.com/mwarcc/ss/refs/heads/main/quiz.json");if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);const e=await t.json();Object.entries(e).forEach((t=>{let[e,n]=t;C(N,this).set(e,n)})),this.interceptWebSocket()}catch(t){}}interceptWebSocket(){const t=window.WebSocket,e=this;window.WebSocket=function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];const s=new t(...i);return s.addEventListener("message",(t=>{C(A,e)&&e.handleMessage(s,t.data)})),s},Object.assign(window.WebSocket,t)}handleMessage(t,e){if(e.startsWith('40{"jwt":"')||e.match(/^\d+$/))return;const n=e.startsWith("42[")?e.substring(2):e;try{const[e,i]=JSON.parse(n);this.processPayload(t,i)}catch(t){}}processPayload(t,e){const{messageType:n,messageContent:i}=e;switch(n){case"game:state":C(q,this).track("Quiz State"),this.handleGameState(t,i);break;case"quiz:chal":C(q,this).track("Quiz Challenge"),this.handleQuizChallenge(i);break;case"quiz:reveal":C(q,this).track("Quiz Reveal"),this.handleQuizReveal(i)}}handleGameState(t,e){if("waiting_for_answer"===e.newState){C(q,this).track("Waiting For Quiz Answer");const e=C(R,this)&&C(N,this).get(C(R,this))?.correctAnswer?C(N,this).get(C(R,this)).correctAnswer:Math.floor(3*Math.random())+1;t.send(`42${JSON.stringify(["quiz:answer",{answer:e}])}`)}}handleQuizChallenge(t){let{question:e,answers:n}=t;e&&n&&(E(R,this,e),C(N,this).has(e)||C(N,this).set(e,{answers:n,correctAnswer:null}))}handleQuizReveal(t){let{correctAnswer:e}=t;if(C(R,this)){const t=C(N,this).get(C(R,this));t&&C(N,this).set(C(R,this),{...t,correctAnswer:e})}}toggle(){E(A,this,!C(A,this)),C(q,this).track("Auto Quiz Toggle")}}function J(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function Q(t,e){return t.get($(t,e))}function U(t,e,n){return t.set($(t,e),n),n}function $(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var L=new WeakMap,B=new WeakMap;class F{constructor(){J(this,L,!1),J(this,B,void 0),U(B,this,a.getInstance()),this.initialize(),this.setupToggleListener()}initialize(){this.interceptFetch()}interceptFetch(){var t=this;const e=window.fetch;window.fetch=async function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];const[s]=i;return Q(L,t)&&t.isItemTemplateUrl(s)?(Q(B,t).track("ItemLayeringService Called"),t.handleItemTemplateRequest(e,...i)):e.apply(window,i)}}isItemTemplateUrl(t){return/curatedcontentitemtemplates\/v2\/item-templates\//.test(t)}async handleItemTemplateRequest(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];try{const e=await t.apply(window,n),i=await e.clone().json();return this.processItemTemplates(i),new Response(JSON.stringify(i),{status:200,statusText:"OK",headers:{"Content-Type":"application/json"}})}catch(e){return t.apply(window,n)}}processItemTemplates(t){t.forEach((t=>{t.tags?.forEach((t=>{t.resourceIdentifiers?.forEach((t=>{t.key=this.generateRandomString()}))})),t.additionalData?.MSP2Data&&(t.additionalData.MSP2Data.Type=this.generateRandomString())}))}generateRandomString(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return Array.from({length:t},(()=>"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random())))).join("")}setupToggleListener(){window.addEventListener("keydown",(t=>{!t.shiftKey||"a"!==t.key&&"A"!==t.key||(U(L,this,!Q(L,this)),Q(B,this).track("ItemLayeringService "+(Q(L,this)?"enabled":"disabled")))}))}}function D(t,e,n){return(e=function(t){var e=function(t){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function H(t,e){return t.get(K(t,e))}function K(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Y=new WeakMap,V=new WeakMap,X=new WeakMap,Z=new WeakMap,tt=new WeakMap,et=new WeakMap,nt=new WeakMap,it=new WeakMap,ot=new WeakMap;class st{constructor(){var t=this;G(this,Y,{d:!1}),G(this,V,a.getInstance()),G(this,X,window.fetch),G(this,Z,{b:"https://api.msp2cheats.eu/purchase",x:"https://api.xerus.lol/listings"}),G(this,tt,(()=>H(it,this).call(this))),G(this,et,(t=>!/\/(shops\/(?:6|13)\/tags)/.test(t)&&(/(?:eu|us)\.mspapis\.com\/shop(?:inventory|purchase)\/v1\/(?:shops|games\/j68d\/profiles)/.test(t)||t===H(Z,this).b))),G(this,nt,(t=>{try{const e=new URL(t);if(e.pathname.includes("/items/purchase"))return H(Z,this).b;if(H(Y,this).d){const t=new URLSearchParams(e.search),n=new URL(H(Z,this).x);return[...t].filter((t=>{let[e]=t;return!/auth/i.test(e)})).forEach((t=>{let[e,i]=t;return n.searchParams.append(e,i)})),n.searchParams.append("diamondPack","True"),n.toString()}return t}catch{return t}})),G(this,it,(()=>{window.fetch=async function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];const[o,s]=n;return"string"==typeof o&&H(et,t).call(t,o)?H(nt,t).call(t,o)===H(Z,t).b?H(ot,t).call(t,H(Z,t).b,s??{}):H(X,t).call(t,H(nt,t).call(t,o),s??{}):H(X,t).apply(window,n)}})),G(this,ot,(async(t,n)=>{const i=await H(X,this).call(this,t,n),o=await i.json(),s="purchaseList",r=JSON.parse(localStorage.getItem(s)||"[]");return r.push(...o),localStorage.setItem(s,JSON.stringify(r.slice(-100))),H(V,this).track("Bought items from shop",e.getUserData(window.msp2Client.getToken())),new Response(JSON.stringify(o),{status:200,statusText:"OK",headers:{"Content-Type":"application/json"}})})),D(this,"setEnabled",(t=>{let{diamondPacks:e}=t;return i={d:e},(n=Y).set(K(n,this),i),i;var n,i})),D(this,"restore",(()=>window.fetch=H(X,this))),H(tt,this).call(this)}}function rt(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function at(t,e){return t.get(ht(t,e))}function ct(t,e,n){return t.set(ht(t,e),n),n}function ht(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var ut=new WeakMap,pt=new WeakMap,lt=new WeakMap;class dt{constructor(){rt(this,ut,void 0),rt(this,pt,void 0),rt(this,lt,void 0),ct(ut,this,a.getInstance()),ct(pt,this,window.fetch),ct(lt,this,window.WebSocket),this.initialize()}initialize(){this.interceptFetch(),this.interceptWebSocket()}interceptFetch(){const t=this;window.fetch=async function(n,i){if(n.includes("/history")&&i&&i.body){const n=i.headers?.["Content-Type"]||i.headers?.get?.("Content-Type");if(n&&n.includes("application/json"))try{const n="string"==typeof i.body?i.body:await(i.body.text?.());if(n){const o=JSON.parse(n);o.MessageBody&&(at(ut,t).track("Bypassed chat filtering",e.getUserData(window.msp2Client.getToken())),o.MessageBody=o.MessageBody.split("").join("Â­"),i.body=JSON.stringify(o))}}catch(t){}}return at(pt,t).call(this,n,i)}}interceptWebSocket(){const t=this;window.WebSocket=function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];const s=new(at(lt,t))(...i),r=s.send;return s.send=function(n){try{if("string"==typeof n&&n.startsWith("42[")){const i=JSON.parse(n.slice(2));if(Array.isArray(i)&&"chatv2:send"===i[0]&&i[1]?.message){const o=i[1].message;i[1].message=o.split("").join("Â­"),n="42"+JSON.stringify(i),at(ut,t).track("Bypassed chat filtering in chatroom",e.getUserData(window.msp2Client.getToken()))}}}catch(t){}r.call(this,n)},s},Object.assign(window.WebSocket,at(lt,this))}restore(){window.fetch=at(pt,this),window.WebSocket=at(lt,this)}}function wt(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function ft(t,e){return t.get(bt(t,e))}function mt(t,e,n){return t.set(bt(t,e),n),n}function bt(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var yt=new WeakMap,gt=new WeakMap,vt=new WeakMap,kt=new WeakMap,jt=new WeakMap,St=new WeakMap;class xt{constructor(){if(wt(this,yt,!0),wt(this,gt,localStorage.getItem("selectedEmote")||"shimm_2024_fireworkswalk_lsz"),wt(this,vt,void 0),wt(this,kt,!1),wt(this,jt,JSON.parse(localStorage.getItem("emotePosition")||'{"x": 10, "y": 10}')),wt(this,St,new Set(["noshoes_skating","swim_new","bunny_hold","2023_spidercrawl_lsz","bad_2022_teenwalk_dg","xmas_2022_frosty_dg","xmas_2022_freezing_lsz","2022_turkeywalk_lsz","2022_easter_sackjump_dg","cool_slide","very_2022_froglike_lsz","2023_bended_lz","shimm_2024_fireworkswalk_lsz"])),Tt.t)return Tt.t;Tt.t=this,mt(vt,this,window.WebSocket),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(()=>this.initialize())):this.initialize()}static getInstance(){return Tt.t??new xt}initialize(){this.createGUI(),this.interceptWebSocket()}createGUI(){const t=document.createElement("div");Object.assign(t.style,{position:"fixed",top:`${ft(jt,this).y}px`,left:`${ft(jt,this).x}px`,backgroundColor:"rgba(30, 30, 46, 0.95)",padding:"20px",zoom:"80%",borderRadius:"16px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.2)",zIndex:"10000",width:"320px",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",fontFamily:'"Inter", system-ui, -apple-system, sans-serif',color:"#fff",backdropFilter:"blur(12px)",border:"1px solid rgba(255, 255, 255, 0.1)"});const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap",e.rel="stylesheet",document.head.appendChild(e);const n=document.createElement("div");Object.assign(n.style,{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px",cursor:"move",padding:"4px",userSelect:"none"});const i=document.createElement("div");i.innerHTML="ðŸŽ­ Emote Selector",Object.assign(i.style,{fontSize:"20px",fontWeight:"600",color:"#cdd6f4",letterSpacing:"-0.5px"});const o=document.createElement("div");Object.assign(o.style,{display:"flex",gap:"8px"});const s=document.createElement("button");s.innerHTML="âˆ’",Object.assign(s.style,{backgroundColor:"rgba(69, 71, 90, 0.5)",border:"none",color:"#cdd6f4",width:"28px",height:"28px",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",transition:"all 0.2s ease",backdropFilter:"blur(4px)",outline:"none"}),s.addEventListener("click",(()=>this.toggleMinimize())),s.addEventListener("mouseover",(()=>s.style.backgroundColor="rgba(88, 91, 112, 0.5)")),s.addEventListener("mouseout",(()=>s.style.backgroundColor="rgba(69, 71, 90, 0.5)")),o.appendChild(s),n.appendChild(i),n.appendChild(o),t.appendChild(n);const r=document.createElement("div");Object.assign(r.style,{position:"relative",marginBottom:"16px"});const a=document.createElement("select");Object.assign(a.style,{width:"100%",padding:"12px 16px",backgroundColor:"rgba(49, 50, 68, 0.6)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",color:"#cdd6f4",fontSize:"14px",appearance:"none",cursor:"pointer",transition:"all 0.2s ease",fontFamily:"inherit",outline:"none"});const c=document.createElement("style");c.textContent="\n            select:focus {\n                outline: none;\n                border-color: rgba(255, 255, 255, 0.2);\n                box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.05);\n            }\n            select option {\n                background-color: #1e1e2e;\n                color: #cdd6f4;\n                padding: 12px;\n            }\n            select option:hover {\n                background-color: #313244;\n            }\n        ",document.head.appendChild(c),Array.from(ft(St,this)).forEach((t=>{const e=document.createElement("option");e.value=t,e.textContent=t,e.selected=t===ft(gt,this),a.appendChild(e)})),a.addEventListener("change",(t=>{mt(gt,this,t.target.value),localStorage.setItem("selectedEmote",ft(gt,this))}));const h=document.createElement("div");Object.assign(h.style,{position:"absolute",right:"16px",top:"50%",transform:"translateY(-50%)",pointerEvents:"none",width:"0",height:"0",borderLeft:"5px solid transparent",borderRight:"5px solid transparent",borderTop:"5px solid #cdd6f4"}),r.appendChild(a),r.appendChild(h),t.appendChild(r);const u=document.createElement("button");this.updateToggleButton(u),Object.assign(u.style,{width:"100%",backgroundColor:ft(yt,this)?"rgba(166, 227, 161, 0.9)":"rgba(243, 139, 168, 0.9)",border:"none",color:"#1e1e2e",padding:"14px",borderRadius:"12px",cursor:"pointer",fontWeight:"600",transition:"all 0.2s ease",fontSize:"14px",letterSpacing:"0.3px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",outline:"none"}),u.addEventListener("click",(()=>{mt(yt,this,!ft(yt,this)),this.updateToggleButton(u)})),t.appendChild(u);let p,l,d,w,f=!1;n.addEventListener("mousedown",(t=>{f=!0,d=t.clientX-ft(jt,this).x,w=t.clientY-ft(jt,this).y})),document.addEventListener("mousemove",(e=>{f&&(e.preventDefault(),p=e.clientX-d,l=e.clientY-w,ft(jt,this).x=p,ft(jt,this).y=l,t.style.left=`${p}px`,t.style.top=`${l}px`,localStorage.setItem("emotePosition",JSON.stringify(ft(jt,this))))})),document.addEventListener("mouseup",(()=>{f=!1})),document.body.appendChild(t),this.container=t,this.select=a}updateToggleButton(t){t.textContent="Emote Service: "+(ft(yt,this)?"ON":"OFF"),t.style.backgroundColor=ft(yt,this)?"rgba(166, 227, 161, 0.9)":"rgba(243, 139, 168, 0.9)"}toggleMinimize(){mt(kt,this,!ft(kt,this)),ft(kt,this)?(this.select.style.display="none",this.container.style.height="auto"):(this.select.style.display="block",this.container.style.height="auto")}interceptWebSocket(){const t=this;window.WebSocket=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];const o=new(ft(vt,t))(...n),s=o.send;return o.send=function(e){if(ft(yt,t)&&"string"==typeof e&&e.startsWith('42["7001"'))try{const n=JSON.parse(e.slice(2));Array.isArray(n)&&n[1]?.mood&&(n[1].mood=ft(gt,t),e="42"+JSON.stringify(n))}catch(t){}return s.call(this,e)},o},Object.assign(window.WebSocket,ft(vt,this))}restore(){window.WebSocket=ft(vt,this),this.container&&this.container.parentNode&&this.container.parentNode.removeChild(this.container)}}var Tt={t:void 0};return function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.defineProperties;const[n,i]=[new WeakMap,{configurable:!1,writable:!1}],o={a:a.getInstance(),s:g.getInstance(),m:new W,q:new I,l:new F,p:new st,c:new dt,e:xt.getInstance()};o.p.setEnabled({diamondPacks:!0}),e(t,{msp2Client:{...i,value:o.m},autoStarQuiz:{...i,value:o.q}}),setTimeout((()=>e(t,{emoteService:{...i,value:o.e}})),7e3),o.a.track("Client Started"),t.fetch=new Proxy(t.fetch,{apply:async(t,e,i)=>{let[s,r]=i;if("string"!=typeof s||!s.includes("/games/j68d/rewards/daily_pickup"))return Reflect.apply(t,e,[s,r]);const a={u:s,o:r};if(n.has(a))return n.get(a);try{const i=await Promise.all(Array(4).fill().map((()=>Reflect.apply(t,e,[s,{...r,headers:o.s.getHeaders(r?.headers?.authorization)}])))),c=i[i.length-1].clone();return n.set(a,c),c}catch(n){return Reflect.apply(t,e,[s,r])}}})}(window),{}})()));
