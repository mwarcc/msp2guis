"use strict";(self.webpackChunk$=self.webpackChunk$||[]).push([[80],{80:(t,e,o)=>{function n(t,e,o){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,o)}function i(t,e){return t.get(r(t,e))}function s(t,e,o){return t.set(r(t,e),o),o}function r(t,e,o){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:o;throw new TypeError("Private element is not present on this object")}o.d(e,{EmoteService:()=>u});var a=new WeakMap,c=new WeakMap,d=new WeakMap,l=new WeakMap,p=new WeakMap,h=new WeakMap;class u{constructor(){if(n(this,a,!0),n(this,c,localStorage.getItem("selectedEmote")||"shimm_2024_fireworkswalk_lsz"),n(this,d,void 0),n(this,l,!1),n(this,p,JSON.parse(localStorage.getItem("emotePosition")||'{"x": 10, "y": 10}')),n(this,h,new Set(["noshoes_skating","swim_new","bunny_hold","2023_spidercrawl_lsz","bad_2022_teenwalk_dg","xmas_2022_frosty_dg","xmas_2022_freezing_lsz","2022_turkeywalk_lsz","2022_easter_sackjump_dg","cool_slide","very_2022_froglike_lsz","2023_bended_lz","shimm_2024_fireworkswalk_lsz"])),b.t)return b.t;b.t=this,s(d,this,window.WebSocket),this.initialize()}static getInstance(){return b.t??new u}initialize(){this.createGUI(),this.interceptWebSocket()}createGUI(){const t=document.createElement("div");Object.assign(t.style,{position:"fixed",top:`${i(p,this).y}px`,left:`${i(p,this).x}px`,backgroundColor:"rgba(30, 30, 46, 0.95)",padding:"20px",zoom:"80%",borderRadius:"16px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.2)",zIndex:"10000",width:"320px",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",fontFamily:'"Inter", system-ui, -apple-system, sans-serif',color:"#fff",backdropFilter:"blur(12px)",border:"1px solid rgba(255, 255, 255, 0.1)"});const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap",e.rel="stylesheet",document.head.appendChild(e);const o=document.createElement("div");Object.assign(o.style,{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px",cursor:"move",padding:"4px",userSelect:"none"});const n=document.createElement("div");n.innerHTML="ðŸŽ­ Emote Selector",Object.assign(n.style,{fontSize:"20px",fontWeight:"600",color:"#cdd6f4",letterSpacing:"-0.5px"});const r=document.createElement("div");Object.assign(r.style,{display:"flex",gap:"8px"});const d=document.createElement("button");d.innerHTML="âˆ’",Object.assign(d.style,{backgroundColor:"rgba(69, 71, 90, 0.5)",border:"none",color:"#cdd6f4",width:"28px",height:"28px",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",transition:"all 0.2s ease",backdropFilter:"blur(4px)",outline:"none"}),d.addEventListener("click",(()=>this.toggleMinimize())),d.addEventListener("mouseover",(()=>d.style.backgroundColor="rgba(88, 91, 112, 0.5)")),d.addEventListener("mouseout",(()=>d.style.backgroundColor="rgba(69, 71, 90, 0.5)")),r.appendChild(d),o.appendChild(n),o.appendChild(r),t.appendChild(o);const l=document.createElement("div");Object.assign(l.style,{position:"relative",marginBottom:"16px"});const u=document.createElement("select");Object.assign(u.style,{width:"100%",padding:"12px 16px",backgroundColor:"rgba(49, 50, 68, 0.6)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",color:"#cdd6f4",fontSize:"14px",appearance:"none",cursor:"pointer",transition:"all 0.2s ease",fontFamily:"inherit",outline:"none"});const b=document.createElement("style");b.textContent="\n            select:focus {\n                outline: none;\n                border-color: rgba(255, 255, 255, 0.2);\n                box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.05);\n            }\n            select option {\n                background-color: #1e1e2e;\n                color: #cdd6f4;\n                padding: 12px;\n            }\n            select option:hover {\n                background-color: #313244;\n            }\n        ",document.head.appendChild(b),Array.from(i(h,this)).forEach((t=>{const e=document.createElement("option");e.value=t,e.textContent=t,e.selected=t===i(c,this),u.appendChild(e)})),u.addEventListener("change",(t=>{s(c,this,t.target.value),localStorage.setItem("selectedEmote",i(c,this))}));const g=document.createElement("div");Object.assign(g.style,{position:"absolute",right:"16px",top:"50%",transform:"translateY(-50%)",pointerEvents:"none",width:"0",height:"0",borderLeft:"5px solid transparent",borderRight:"5px solid transparent",borderTop:"5px solid #cdd6f4"}),l.appendChild(u),l.appendChild(g),t.appendChild(l);const m=document.createElement("button");this.updateToggleButton(m),Object.assign(m.style,{width:"100%",backgroundColor:i(a,this)?"rgba(166, 227, 161, 0.9)":"rgba(243, 139, 168, 0.9)",border:"none",color:"#1e1e2e",padding:"14px",borderRadius:"12px",cursor:"pointer",fontWeight:"600",transition:"all 0.2s ease",fontSize:"14px",letterSpacing:"0.3px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",outline:"none"}),m.addEventListener("click",(()=>{s(a,this,!i(a,this)),this.updateToggleButton(m)})),t.appendChild(m);let f,x,w,_,k=!1;o.addEventListener("mousedown",(t=>{k=!0,w=t.clientX-i(p,this).x,_=t.clientY-i(p,this).y})),document.addEventListener("mousemove",(e=>{k&&(e.preventDefault(),f=e.clientX-w,x=e.clientY-_,i(p,this).x=f,i(p,this).y=x,t.style.left=`${f}px`,t.style.top=`${x}px`,localStorage.setItem("emotePosition",JSON.stringify(i(p,this))))})),document.addEventListener("mouseup",(()=>{k=!1})),document.body.appendChild(t),this.container=t,this.select=u}updateToggleButton(t){t.textContent="Emote Service: "+(i(a,this)?"ON":"OFF"),t.style.backgroundColor=i(a,this)?"rgba(166, 227, 161, 0.9)":"rgba(243, 139, 168, 0.9)"}toggleMinimize(){s(l,this,!i(l,this)),i(l,this)?(this.select.style.display="none",this.container.style.height="auto"):(this.select.style.display="block",this.container.style.height="auto")}interceptWebSocket(){const t=this;window.WebSocket=function(){for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];const s=new(i(d,t))(...o),r=s.send;return s.send=function(e){if(i(a,t)&&"string"==typeof e&&e.startsWith('42["7001"'))try{const o=JSON.parse(e.slice(2));Array.isArray(o)&&o[1]?.mood&&(o[1].mood=i(c,t),e="42"+JSON.stringify(o))}catch(t){}return r.call(this,e)},s},Object.assign(window.WebSocket,i(d,this))}restore(){window.WebSocket=i(d,this),this.container&&this.container.parentNode&&this.container.parentNode.removeChild(this.container)}}var b={t:void 0}}}]);
